{% extends 'hackaton/layout.html' %}
{% load static %}
{% block main %}


<!-- Start Hero Area -->
<section class="hero-area">
    <div class="main__circle"></div>
    <div class="main__circle2"></div>
    <div class="main__circle3"></div>
    <div class="main__circle4"></div>
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 offset-lg-3 col-md-12 col-12">
                <div class="hero-content">
                    <h5 class="wow zoomIn" data-wow-delay=".2s">
                        <i class="lni lni-map-marker"></i><a href="https://yandex.ru/maps/-/CCUWu0BKLC">МАГУ,
                        Мурманск</a>
                    </h5>
                    <h2 class="wow fadeInUp" data-wow-delay=".4s">{{hackaton}}</h2>
                    <p class="wow fadeInUp" data-wow-delay=".6s">
                        Кафедра математики, физики и информационных технологий приглашает всех желающих принять участие в региональном состязательном мероприятии
                        «{{hackaton}}», который будет проходить на базе факультета математических и естественных наук
                        ФГБОУ ВО «МАГУ» с {{start}} по {{end}}.
                    </p>
                    <div class="button wow fadeInUp" data-wow-delay=".8s">
                        <a href="{% url 'users:registration' %}" class="btn ">Зарегистрироваться</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Hero Area -->

<!-- Start Count Down Area -->
<div class="count-down">

    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="box-head">
                    <div class="box-content">
                        <div class="box">
                            <h1 id="days">000</h1>
                            <h2 id="daystxt">Дней</h2>
                        </div>
                        <div class="box">
                            <h1 id="hours">00</h1>
                            <h2 id="hourstxt">Часов</h2>
                        </div>
                        <div class="box">
                            <h1 id="minutes">00</h1>
                            <h2 id="minutestxt">Минуты</h2>
                        </div>
                        <div class="box">
                            <h1 id="seconds">00</h1>
                            <h2 id="secondstxt">Секунды</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Count Down Area -->

<div class="main-content text-dark">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 wow fadeInUp" data-wow-delay=".2s">

                <div class="single-featuer">
                    <img class="shape" src="{% static 'hackaton/images/features/shape.svg'%}" alt="#">
                    <img class="shape2" src="{% static 'hackaton/images/features/shape2.svg' %}" alt="#">

                    <h3>КОГО МЫ ЖДЕМ</h3>
                    <p>
                        Обучающиеся школ города и области (класс и профиль не имеют значения) и студентов колледжей и вузов, простых IT-шников от компаний. Команда состоит из 3-4 человек.
                        Можно собрать команду заранее, можно влиться в команду на месте.
                    </p>
                </div>

                <div class="single-featuer">
                    <img class="shape" src="{% static 'hackaton/images/features/shape.svg' %}" alt="#">
                    <img class="shape2" src="{% static 'hackaton/images/features/shape2.svg' %}" alt="#">

                    <h3>КОГДА ЭТО БУДЕТ</h3>
                    <p>
                        С {{start}} по {{end}} — Несколько дней душевного кодинга и решения практических задач с полным погружением в проблему.
                    </p>
                </div>

                <div class="single-featuer">
                    <img class="shape" src="{% static 'hackaton/images/features/shape.svg' %}" alt="#">
                    <img class="shape2" src="{% static 'hackaton/images/features/shape2.svg' %}" alt="#">

                    <h3>ПРО ЧТО ЭТО БУДЕТ</h3>
                    <p>
                        Самые актуальные во все времена направления — умный город, большие данные, информационная безопасность, разработка компьютерной игры и визуализация данных (на выбор).
                    </p>
                </div>

                <div class="single-featuer">
                    <img class="shape" src="{% static 'hackaton/images/features/shape.svg' %}" alt="#">
                    <img class="shape2" src="{% static 'hackaton/images/features/shape2.svg' %}" alt="#">

                    <h3>ЧЕМ МОЖНО ПОЛЬЗОВАТЬСЯ</h3>
                    <p>
                        Всем, что сможете принести — свой ноутбук, свой мобильный интернет, книги и прочие полезные полезности.
                    </p>
                </div>

                <div class="single-featuer">
                    <img class="shape" src="{% static 'hackaton/images/features/shape.svg' %}" alt="#">
                    <img class="shape2" src="{% static 'hackaton/images/features/shape2.svg' %}" alt="#">

                    <h3>ГДЕ ЭТО БУДЕТ</h3>
                    <p>
                        Площадка Мурманского арктического государственного университета.
                    </p>
                </div>
            </div>

            <div class="col-lg-1">
            </div>

            <div class="col">
                <div class="main-img"><img class="center-pic" src="{% static 'hackaton/images/main.jpg' %}" alt="img"></div>
                <div class="main-img"><img class="center-pic" src="{% static 'hackaton/images/main1.jpg' %}" alt="img"></div>
                <div class="main-img"><img class="center-pic" src="{% static 'hackaton/images/main2.jpg' %}" alt="img"></div>
            </div>
        </div>
    </div>

</div>

<script>
            const finaleDate = new Date("{{date|date:'Y-m-d'}}").getTime();

            const timer = () => {
                const now = new Date().getTime();
                let diff = finaleDate - now;
                if (diff < 0) {
                    document.querySelector('.alert').style.display = 'block';
                    document.querySelector('.container').style.display = 'none';
                }

                let days = Math.floor(diff / (1000 * 60 * 60 * 24));
                let hours = Math.floor(diff % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));
                let minutes = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));
                let seconds = Math.floor(diff % (1000 * 60) / 1000);

                days <= 99 ? days = `0${days}` : days;
                days <= 9 ? days = `00${days}` : days;
                hours <= 9 ? hours = `0${hours}` : hours;
                minutes <= 9 ? minutes = `0${minutes}` : minutes;
                seconds <= 9 ? seconds = `0${seconds}` : seconds;

                document.querySelector('#days').textContent = days;
                document.querySelector('#hours').textContent = hours;
                document.querySelector('#minutes').textContent = minutes;
                document.querySelector('#seconds').textContent = seconds;

                if(days%10 === 0 || days%10 > 4 || Math.floor(days/10) === 1 || (days%100 > 10 && days%100 < 20)){
                    document.querySelector('#daystxt').textContent = 'Дней';
                }
                else if(days%10 === 1){
                    document.querySelector('#daystxt').textContent = 'День';
                }
                else if(days%10 > 1 && days%10 < 5){
                    document.querySelector('#daystxt').textContent = 'Дня';
                }

                if(hours%10 === 0 || hours%10 > 4 || Math.floor(hours/10) === 1){
                    document.querySelector('#hourstxt').textContent = 'Часов';
                }
                else if(hours%10 === 1){
                    document.querySelector('#hourstxt').textContent = 'Час';
                }
                else if(hours%10 > 1 && hours%10 < 5){
                    document.querySelector('#hourstxt').textContent = 'Часа';
                }

                if(minutes%10 === 0 || minutes%10 > 4 || Math.floor(minutes/10) === 1){
                    document.querySelector('#minutestxt').textContent = 'Минут';
                }
                else if(minutes%10 === 1){
                    document.querySelector('#minutestxt').textContent = 'Минута';
                }
                else if(minutes%10 > 1 && minutes%10 < 5){
                    document.querySelector('#minutestxt').textContent = 'Минуты';
                }

                if(seconds%10 === 0 || seconds%10 > 4 || Math.floor(seconds/10) === 1){
                    document.querySelector('#secondstxt').textContent = 'Секунд';
                }
                else if(seconds%10 === 1){
                    document.querySelector('#secondstxt').textContent = 'Секунда';
                }
                else if(seconds%10 > 1 && seconds%10 < 5){
                    document.querySelector('#secondstxt').textContent = 'Секунды';
                }
            }
            timer();
            setInterval(timer, 1000);
        </script>

{% endblock %}

